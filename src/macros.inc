;MACRO LOAD_FILE (FILE LENGTH),(<FILE NAME),(>FILE NAME),(<LOAD LOCATION),(>LOAD LOCATION),(^LOAD LOCATION)
.MACRO LOAD_FILE LENGTH,X_NAME,Y_NAME,X_LOCATION,Y_LOCATION,A_LOCATION
	LDA LENGTH	;LENGTH OF FILE NAME
	LDX X_NAME
	LDY Y_NAME
	JSR SETNAM	;SETNAM A=FILE NAME LENGTH X/Y=POINTER TO FILENAME
	LDA #$01
	LDX #$08
	LDY #$00
	JSR SETFLS	;SETLFS A=LOGICAL NUMBER X=DEVICE NUMBER Y=SECONDARY
	LDX X_LOCATION
	LDY Y_LOCATION
	LDA A_LOCATION	;LOAD FILE INTO A=1 RAM, A=2 VRAM FOR $0:0000, A=3 VRAM FOR $1:0000
	JSR LOAD	;LOAD FILE FOR LOAD X/Y=LOAD ADDRESS
	LDA #$01
	JSR CLOSE	;CLOSE FILE
.ENDMACRO

;MACRO SAVE_FILE (FILE LENGTH),(<FILE NAME),(>FILE NAME),(<LOAD LOCATION),(>LOAD LOCATION),(^LOAD LOCATION)
.MACRO SAVE_FILE LENGTH,X_NAME,Y_NAME,X_LOCATION,Y_LOCATION,A_LOCATION
	LDA LENGTH	;LENGTH OF FILE NAME
	LDX X_NAME
	LDY Y_NAME
	JSR SETNAM	;SETNAM A=FILE NAME LENGTH X/Y=POINTER TO FILENAME
	LDA #$01
	LDX #$08
	LDY #$02
	JSR SETFLS	;SETFLS A=LOGICAL NUMBER X=DEVICE NUMBER Y=SECONDARY
	LDX X_LOCATION
	LDY Y_LOCATION
	LDA A_LOCATION	;ZERO PAGE POINTER TO START ADDRESS
	JSR SAVE	;SAVE FILE TO X/Y=END ADDRESS
	LDA #$01
	JSR CLOSE	;CLOSE FILE
.ENDMACRO

;MACRO APPEND_FILE (FILE LENGTH),(<FILE NAME),(>FILE NAME),(<LOAD LOCATION),(>LOAD LOCATION),(^LOAD LOCATION)
;FILE NAME MUST HAVE ",S,A" AT THE END OF IT FOR APPENDING TO WORK
.MACRO APPEND_FILE LENGTH,X_NAME,Y_NAME,X_LOCATION,Y_LOCATION,A_LOCATION
	LDA LENGTH	;LENGTH OF FILE NAME
	LDX X_NAME
	LDY Y_NAME
	JSR SETNAM	;SETNAM A=FILE NAME LENGTH X/Y=POINTER TO FILENAME
	LDA #$01
	LDX #$08
	LDY #$02
	JSR SETFLS	;SETFLS A=LOGICAL NUMBER X=DEVICE NUMBER Y=SECONDARY
	JSR OPEN	;OPEN FILE FOR WRITING
	LDX X_LOCATION
	LDY Y_LOCATION
	LDA A_LOCATION	;ZERO PAGE POINTER TO START ADDRESS
	JSR SAVE	;APPEND TO FILE X/Y=END ADDRESS
	LDA #$01
	JSR CLOSE	;CLOSE FILE
.ENDMACRO

;MACRO SET_VERA_ADDR X = VERA_L, Y = VERA_M, A = VERA_H
.MACRO SET_VERA_ADDR
	STX $9F20
	STY $9F21
	STA $9F22
.ENDMACRO